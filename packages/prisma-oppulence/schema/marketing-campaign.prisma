model Campaign {
  id              String    @id @default(cuid())
  name            String
  description     String?   @db.Text
  type            CampaignType
  status          CampaignStatus
  budget          Float
  actualSpend     Float     @default(0)
  startDate       DateTime
  endDate         DateTime?
  
  // Campaign Attribution
  leads           Lead[]    // Many-to-many relation
  touchpoints     LeadTouchpoint[]
  
  // Performance Metrics
  impressions     Int       @default(0)
  clicks          Int       @default(0)
  conversions     Int       @default(0)
  revenue         Float     @default(0)
  roi             Float?    // Calculated field
  
  // UTM Parameters
  utmSource       String?
  utmMedium       String?
  utmCampaign     String?
  utmContent      String?
  utmTerm         String?
  
  // A/B Testing
  abTestEnabled   Boolean   @default(false)
  variants        CampaignVariant[]
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

enum CampaignType {
  EMAIL
  SOCIAL_MEDIA
  PPC
  CONTENT
  EVENT
  REFERRAL
  DIRECT_MAIL
  OTHER
}

enum CampaignStatus {
  DRAFT
  SCHEDULED
  ACTIVE
  PAUSED
  COMPLETED
  CANCELLED
}

model CampaignVariant {
  id              String    @id @default(cuid())
  campaignId      String
  campaign        Campaign  @relation(fields: [campaignId], references: [id])
  name            String
  description     String?   @db.Text
  content         Json      // Variant-specific content
  metrics         Json      // Performance metrics for this variant
  
  @@index([campaignId])
}